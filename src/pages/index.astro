---
import Image from 'astro/components/Image.astro';
import BaseLayout from '../layouts/BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { getCollection } from 'astro:content';

import image from '../assets/blank-profile.png';

import '../styles/project-list.css'


const posts = (await getCollection('blog')).filter(
	(a) => a.data.featured == true
).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);
---

<BaseLayout>

	<div class="introduction-container glow">
		<div class="image-container">
			<Image src={image} alt="hero" width={400} height={400} class="profile-image"></Image>
		</div>
		<div class="text-container">
			
			<span class="name-title">I am Sebastian Zettl</span>
			<p>
				Willkommen in meinem digitalen Grimoire! Ich bin ein leidenschaftlicher Developer, der kreative Ideen in funktionierende Webanwendungen verwandelt. Mit einem Fokus auf moderne Technologien und nutzerfreundliches Design erschaffe ich digitale Erlebnisse, die begeistern.
			</p>
		</div>
	</div>

	<h2 class="project">Ausgew√§hlte Projekte</h2>
	<div>
		<ul>
			{
				posts.map((post) => (
					<li>
						<a href={`/projects/${post.id}/`}>
							{post.data.heroImage && (
								<Image width={720} height={360} src={post.data.heroImage} alt="" />
							)}
							<h4 class="title">{post.data.title}</h4>
							<p class="date">
								<FormattedDate date={post.data.pubDate} />
							</p>
						</a>
					</li>
				))
			}
		</ul>
	</div>

	<style>
		.introduction-container {
			display: flex;
			border: 2px yellowgreen solid;
			border-radius: 10px;
			padding: 1em;
			animation: glow 2s ease-in-out infinite;
		}
		
		.text-container {
			display: flex;
			flex-direction: column;
			padding-left: 1em;
		}
		
		.image-container {
			
		}

		.name-title {
			
		}

		.project {
			padding: 1em;
		}

		.profile-image {
			border-radius: 50%;
			border: 1px black solid;

		}

		@keyframes glow {
		0%, 100% {
			box-shadow: 0 0 5px rgba(52, 211, 153, 0.5), 0 0 10px rgba(52, 211, 153, 0.3);
		}
		50% {
			box-shadow: 0 0 20px rgba(52, 211, 153, 0.8), 0 0 30px rgba(52, 211, 153, 0.5);
		}
		}

	</style>

</BaseLayout>
